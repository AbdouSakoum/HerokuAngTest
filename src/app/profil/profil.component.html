<!-------Rodio button packages---------->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!----------------------------------------->
<!-------Navbar-------------------------->
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link clickable" (click)="ShowProfil()">Calendrier</a>
    </li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item">
      <a class="nav-link clickable" (click)="ShowMedecin()">Reponse</a>
    </li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item">
      <a class="nav-link clickable" (click)="ShowParam()">Paramètre</a>
    </li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
    <li class="nav-item"><a class="nav-link"></a></li>
  </ul>
</nav>
<!--------------------------------------->
<div class="container-fluid">
    <div class="main-body">
        <div class="row gutters-sm" *ngIf="divPatient">
            <div class="col-md-3 mb-3">
                <div class="card" *ngIf="enfant && patient">
                  <div class="card-body">
                    <div class="d-flex flex-column align-items-center text-center">
                      <div class="mt-3">
                        <h4>Bonjour  {{patient.prenom}}</h4>
                        <h5 >Quel est l'état de votre enfant {{enfant.prenom}} de l'enfant ?</h5>
                        <hr>
                        <div class="container"><!---<i class="fas fa-thumbs-up"></i>   <i class="fas fa-thumbs-down"></i>-->                   
                          <button (click)="addHappy()" type="button" class="btn btn-success btn-lg button5" style="width: 100px; height: 30px;"><i class="fas fa-smile"></i> Happy</button>
                          <button (click)="openSadModal()" type="button" class="btn btn-danger btn-lg button5"   style="width: 100px; height: 30px;"><i class="fas fa-angry"></i> Sad</button>
                        <!--  <button type="button" class="btn btn-danger btn-lg button5" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 100px; height: 30px;"><i class="fas fa-angry"></i> Sad</button>-->
                        </div>        
                      </div>
                    </div>
                  </div>
                </div> 
                <br>
                <div class="card mb-3" *ngIf="enfant && patient">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-sm-12">
                        <h4 class="text-center" *ngIf="divCalendrier">
                          <button class="btn btn-primary btn-lg btn-block" (click)="ShowStatistiques(patient.dateValidation, patient.id)" >Afficher Statistiques</button> 
                        </h4>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-12">
                        <h4 class="text-center" *ngIf="divStatistiques">
                          <button class="btn btn-primary btn-lg btn-block" (click)="ShowCalendrier()" >Afficher Calendrier</button> 
                        </h4>             
                      </div>
                    </div>  
                    <div class="row">
                      <div class="col-sm-12">
                        <h4 class="text-center" >
                          <button class="btn btn-primary btn-lg btn-block" (click)="ShowMedecin()" >Afficher Reponse</button> 
                        </h4>             
                      </div>
                    </div> 
                    <div class="row">
                      <div class="col-sm-12" *ngIf="divCalendrier">
                        <h4 class="text-justify">
                          texte 1 Et olim licet otiosae sint tribus pacataeque centuriae et nulla suffragiorum certamina set Pompiliani redierit securitas temporis, per omnes tamen quotquot sunt partes terrarum, ut domina suscipitur et regina et ubique patrum reverenda cum auctoritate canities populique Romani nomen circumspectum et verecundum.
                        </h4>
                      </div>
                      <div class="col-sm-12" *ngIf="divStatistiques">
                        <h4 class="text-justify">
                          texte 2 Et olim licet otiosae sint tribus et ubique patrum reverenda  populique Romani nomen circumspectum et verecundum.
                        </h4>
                        <div class="card border-primary mb-3 overflow-auto" style="max-height: 150px;">
                          <div class="card-header">Clarification</div>
                          <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-info" (click)="ShowQst1()">First</button>
                            <button type="button" class="btn btn-info" (click)="ShowQst2()">Second</button>
                            <button type="button" class="btn btn-info" (click)="ShowQst3()">Third</button>
                          </div>
                          <div class="card-body text-primary" *ngIf="qst1">
                            <h5>Expression de la question 1 ?</h5>
                            <h6>Some quick example text to build.</h6>
                            <h6>Some quick example text to build.</h6>
                            <h6>Some quick example text to build.</h6>
                          </div>
                          <div class="card-body text-primary" *ngIf="qst2">
                            <h5>Expression de la question 2 ?</h5>
                            <h6>Some quick example text to build 2.</h6>
                            <h6>Some quick example text to build 2.</h6>
                            <h6>Some quick example text to build 2.</h6>
                          </div>
                          <div class="card-body text-primary" *ngIf="qst3">
                            <h5>Expression de la question 3 ?</h5>
                            <h6>Some quick example text to build 3.</h6>
                            <h6>Some quick example text to build 3.</h6>
                            <h6>Some quick example text to build 3.</h6>
                          </div>
                        </div>
                      </div>
                    </div>
                                            
                  </div>
                </div>             
            </div>
            <div class="col-md-9" *ngIf="divCalendrier">
                <full-calendar [options]="calendarOptions"></full-calendar>
            </div>
            <div class="col-md-9" *ngIf="divStatistiques">
                <div class="tableTwo">
                  <table>
                    <thead>
                      <tr>
                        <th rowspan="2">Semaine</th>
                        <th rowspan="2">N° Happy</th>
                        <th rowspan="2">N° Sad</th>
                        <th rowspan="2">N° Vide</th>
                        <th colspan="3">Question 1</th>
                        <th colspan="3">Question 2</th>
                        <th colspan="3">Question 3</th>              
                      </tr>
                      <tr>
                        <th>Rep 1</th>
                        <th>Rep 2</th>
                        <th>Rep 3</th>
                        <th>Rep 1</th>
                        <th>Rep 2</th>
                        <th>Rep 3</th>
                        <th>Rep 1</th>
                        <th>Rep 2</th>
                        <th>Rep 3</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let s of listStatistique">
                        <td>{{s.semaine}}</td>
                        <td>{{s.nombreHappy}}</td>
                        <td>{{s.nombreSad}}</td>
                        <td>{{15-(s.nombreHappy+s.nombreSad)}}</td>
                        <td>{{s.Q1R1}}</td>
                        <td>{{s.Q1R2}}</td>
                        <td>{{s.Q1R3}}</td>
                        <td>{{s.Q2R1}}</td>
                        <td>{{s.Q2R2}}</td>
                        <td>{{s.Q2R3}}</td>
                        <td>{{s.Q3R1}}</td>
                        <td>{{s.Q3R2}}</td>
                        <td>{{s.Q3R3}}</td>                                        
                      </tr>
                    </tbody>
                  </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row gutters-sm" *ngIf="divMedecin">
        <div class="col-9">
          <div class="video-player-wrapper">
            <vg-player (onPlayerReady)="videoPlayerInit($event)">
              <vg-overlay-play></vg-overlay-play>
              <vg-buffering></vg-buffering>
          
              <vg-scrub-bar>
                <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
              </vg-scrub-bar>
          
              <vg-controls>
                <vg-play-pause></vg-play-pause>
                <vg-playback-button></vg-playback-button>
          
                <vg-time-display vgProperty="current" vgFormat="mm:ss"></vg-time-display>
          
                <vg-time-display vgProperty="total" vgFormat="mm:ss"></vg-time-display>
          
                <vg-mute></vg-mute>
                <vg-volume></vg-volume>
          
                <vg-fullscreen></vg-fullscreen>
              </vg-controls>
          
              <video #media [vgMedia]="$any(media)" [src]="reponse.src" id="singleVideo" preload="auto" crossorigin>
              </video>
            </vg-player>
            <ul class="player-list">
              <li style="text-align:center">
                {{reponse.name}}
              </li>
            </ul>                   
          </div>
        </div>
        <div class="col-3">
          <div class="row" *ngIf="reponse">
            <div class="col-md-12">
              <div class="card" style="background-color: rgba(6, 77, 41, 0.521); height: 400px;">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <div class="mt-3">
                      <h5>{{reponse.texte}}</h5>
                      <hr>
                    </div>
                </div>
              </div> 
            </div>
            </div>
          </div> 
        </div>
             
      
  </div>
</div>
<div class="container-fluid">
    <div class="row gutters-sm" *ngIf="divParam">
        <div class="row">
          <div class="col-md-4">
            <br>
            <nav class="nav flex-column">
              <a class="nav-link active clickable" (click)="ShowInfoPersonnel()">Informations personnelles</a>
              <a class="nav-link clickable" (click)="ShowInfoEnfant()">Informations d'enfant</a>
              <a class="nav-link clickable" (click)="ShowInfoParam()">Paramètres</a>
              <a class="nav-link clickable" (click)="Showtutorial()">Tutorial</a>
            </nav>
          </div>
          <div class="col-md-8" *ngIf="divInfoPersonnel">
              <!--formulaire-->
              <br><br>
              <form [formGroup]="updateFormPatient" (ngSubmit)="updateButtonPatient()">
                 <div class="form-group">
                      <label for="nom">Nom de patient</label>
                      <input
                          formControlName="nom"
                          id="nom"
                          type="text" 
                          class="form-control" 
                          [(ngModel)]="patient.nom">
                </div>
                <div class="form-group">
                   <label for="prenom">Prenom de patient</label>
                   <input
                       formControlName="prenom"
                       id="prenom"
                       type="text" 
                       class="form-control" 
                       [(ngModel)]="patient.prenom">
                </div>
                <div class="form-group">
                   <label for="phone">Telephone de patient</label>
                   <input
                       formControlName="phone"
                       id="phone"
                       type="text" 
                       class="form-control" 
                       [(ngModel)]="patient.phone">
                </div>
                <div class="form-group">
                   <label for="email">email de patient</label>
                   <input
                       formControlName="email"
                       id="email"
                       type="text" 
                       class="form-control" 
                       [(ngModel)]="patient.email">
                </div>

                <div class="form-group">
                  <input
                      formControlName="password"
                      id="password"
                      type="hidden" 
                      class="form-control" 
                      [(ngModel)]="patient.password"
                      >
                </div>
                <div class="form-group">
                  <input
                    formControlName="dateReponse"
                    id="dateReponse"
                    type="hidden" 
                    class="form-control" 
                    [(ngModel)]="patient.dateReponse"
                    >
                </div>
                <div class="form-group">
                  <input
                    formControlName="dateValidation"
                    id="dateValidation"
                    type="hidden" 
                    class="form-control" 
                    [(ngModel)]="patient.dateValidation"
                    >
                </div>
                <div class="form-group">
                  <input
                    formControlName="langue"
                    id="langue"
                    type="hidden" 
                    class="form-control" 
                    [(ngModel)]="patient.langue"
                    >
                </div>
                <br>
                 <button type="submit" class="btn btn-primary btn-lg btn-block" >Sauvegarder</button>
              </form>
          </div>
          <div class="col-md-8" *ngIf="divInfoEnfant">
              <!--formulaire-->
              <br><br>
              <form [formGroup]="updateFormEnfant" (ngSubmit)="updateButtonEnfant()">
                <div class="form-group">
                   <label for="prenom">Prenom de enfant</label>
                   <input
                       formControlName="prenom"
                       id="prenom"
                       type="text" 
                       class="form-control" 
                       [(ngModel)]="enfant.prenom">
                </div>
                <div class="form-group">
                   <label for="date">date de naissance</label>
                   <input
                       formControlName="date"
                       id="date"
                       type="date" 
                       class="form-control" 
                       [(ngModel)]="enfant.date">
                </div>
                <div class="form-group">
                   <label for="genre">sexe d'enfant</label>
                   <input
                       formControlName="genre"
                       id="genre"
                       type="text" 
                       class="form-control"
                       [(ngModel)]="enfant.genre">
                </div>
                <br>
                 <button type="submit" class="btn btn-primary btn-lg btn-block" >Sauvegarder</button>
              </form>
          </div>
          <div class="col-md-8" *ngIf="divInfoParam">
                                
                <div class="row">
                  <div class="col-md-12">
                    <h3>Saisir votre ancien mot de passe</h3>
                  </div>
                </div>

                <div class="row">
                  <form class="form-inline" [formGroup]="mdpFormAncien" (ngSubmit)="mdpButtonAncien()">
                    <div class="form-group col-md-8">
                      <input type="password" class="form-control" formControlName="password" id="password" placeholder="Password">
                    </div>
                    <button type="submit" class="btn btn-primary col-md-4">Valider</button>
                  </form>
                </div> 
                <br><br>
                <div class="row" *ngIf="divPwd">
                  <form [formGroup]="updateFormPsd" (ngSubmit)="updateButtonPsd()">
                    <div class="row">
                      <div class="col-md-6">
                        <h4>Nouveau mot de passe</h4>
                      </div>
                      <div class="col-md-6">
                        <input type="password" class="form-control" formControlName="password" id="password" placeholder="Password">

                        <input formControlName="nom" id="nom" type="hidden" class="form-control" [(ngModel)]="patient.nom">
                        <input formControlName="prenom" id="prenom" type="hidden" class="form-control" [(ngModel)]="patient.prenom">
                        <input formControlName="email" id="email" type="hidden" class="form-control" [(ngModel)]="patient.email">
                        <input formControlName="phone" id="phone" type="hidden" class="form-control" [(ngModel)]="patient.phone">
                        <input formControlName="dateReponse" id="dateReponse" type="hidden" class="form-control" [(ngModel)]="patient.dateReponse">
                        <input formControlName="dateValidation" id="dateValidation" type="hidden" class="form-control" [(ngModel)]="patient.dateValidation">
                        <input formControlName="langue" id="langue" type="hidden" class="form-control" [(ngModel)]="patient.langue">
                      </div>                                                       
                    </div>
                    <br>
                    <div class="row">
                      <div class="col-md-4"></div>
                      <div class="col-md-8">
                        <button type="submit" class="btn btn-primary col-md-4">Valider</button>
                      </div>   
                    </div>
                  </form>
                </div>
                <div class="row">
                  <hr>
                </div>                                                                            
          </div>
          <div class="col-md-8" *ngIf="divTutorial">
              <div class="row">
                <br><br>
                <div class="col-md-8">
                  <app-video-fixe></app-video-fixe>
                </div>
                <div class="col-md-4">
                  <br><br><br>
                  <h4 class="text-justify">
                  Et olim licet otiosae sint tribus pacataeque centuriae et nulla suffragiorum certamina set Pompiliani redierit securitas temporis, per omnes tamen quotquot sunt partes terrarum, ut domina suscipitur et regina et ubique patrum reverenda cum auctoritate canities populique Romani nomen circumspectum et verecundum.
                  </h4>
                </div>
              </div>
        </div>
        </div>              
  </div>
</div>






<!-- Button trigger modal -->

<!-- Modal 
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title text-danger" id="exampleModalLabel">Consultation Rapide</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="formDetail" (ngSubmit)="onSubmit()">

        <div class="mb-3">
          <label for="first" class="form-label">First</label>
          <select type="number" class="form-control" formControlName="first" id="first" >
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="second" class="form-label">Second</label>
          <select type="number" class="form-control" formControlName="second" id="second" >
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="third" class="form-label">third</label>
          <select type="number" class="form-control" formControlName="third" id="third" >
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>

        <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Login</button>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Close</button>
    </div>
  </div>
</div>
</div>
-->
<div class="overlay" *ngIf="popupSadModal">
  <div class="popup">
      <div class="content">
      <div class="modal-header">
        <button type="button" class="btn-close" (click)="close()">
        </button>
      </div>
      </div>
      <div class="modal-body">
        <form [formGroup]="formDetail" (ngSubmit)="onSubmit()" >  
          <br>   
          <div class="mb-3">
            <label for="first" class="form-label">First</label>
            <select type="number" class="form-control" formControlName="first" id="first" >
              <option>1</option>
              <option>2</option>
              <option>3</option>
            </select>
          </div>
           <br>
           <div class="mb-3">
            <label for="third" class="form-label">second</label>
            <select type="number" class="form-control" formControlName="second" id="second" >
              <option>1</option>
              <option>2</option>
              <option>3</option>
            </select>
          </div>
           <br>
           <div class="mb-3">
            <label for="third" class="form-label">third</label>
            <select type="number" 
                    class="form-control" 
                    formControlName="third" 
                    id="third" >
              <option>1</option>
              <option>2</option>
              <option>3</option>
            </select>
          </div>
           <br>
           <button type="submit"  class="btn btn-primary">Valider</button>
         </form>
    
    </div>

</div>
</div>


<!-----------Enfant Formulaire-------------->

  <div class="overlay" *ngIf="popupController">
    <div class="popup">
      <h2>Informations de votre enfant</h2>
      <div class="content">
        <div class="modal-header">
        </div>
      </div>
        <div class="modal-body">
          <form [formGroup]="formEnfant" (ngSubmit)="onEnfant()" >  
            <br>   
             <div class="form-group">
              <label for="prenom">Prénom de l’enfant</label>
              <input
                  formControlName="prenom"
                  id="prenom"
                  type="text" 
                  class="form-control" 
                  autocomplete="off"
                  placeholder="prenom d'enfant">
             </div>
             <br>
             <div class="form-group">
              <label class="radio-inline">
                <input type="radio" id="Garçon" 
                name="genre" value="Garçon" formControlName="genre">Garçon
              </label>
              <label class="radio-inline">
                <input type="radio" id="Fille" 
                name="genre" value="Fille" formControlName="genre">Fille
              </label>
             </div>
             <br>
             <div class="form-group">
              <label for="date">Date de naissance</label>
              <input
                  formControlName="date"
                  id="date"
                  type="date" 
                  class="form-control" 
                  placeholder="date de naissance d'enafant">
             </div>
             <br>
             <button type="submit" class="btn btn-primary">Valider</button>
           </form>
      
      </div>

  </div>
</div>
 













